---
  - summary: |
      Проверка регистрации пользователя через электронную почту
    requirement: |
      Пользователь должен иметь возможность регистрации на сайте через электронную почту
    prerequisites: 
      Открыт сайт https://codebattle.hexlet.io
      Пользователь не создавал учетную запись
    test-data: |
       Nickname = Victoire_102
       Email = a200287@yandex.ru
       Password = 1234567890
       Password = 1234567890
    steps:
      - Нажать "Sign up"
      - Ввести тестовые данные в поля формы регистрации 
      - Нажать "Submit"
    expected-result: |
        Пользователь успешно зарегистрирован и попадает на страницу https://codebattle.hexlet.io/#lobby

  - summary: |
      Проверка авторизации через электронную почту 
    requirement: |
      Успешная авторизация пользователя при введении валидных данных
    prerequisites: 
      Открыт сайт https://codebattle.hexlet.io
      Учетная запись пользователя создана
    test-data: |
       Email = a200287@yandex.ru
       Password = 1234567890
    steps:
      - Нажать "Sign in"
      - Ввести тестовые данные в поля формы авторизации 
      - Нажать "Submit"
    expected-result: |
        Пользователь успешно авторизован и попадает на страницу https://codebattle.hexlet.io/#lobby

  - summary: |
      Проверка авторизации с невалидными данными
    requirement: |
      Пользователь не должен авторизоваться на сайте
    prerequisites: |
      Открыт сайт https://codebattle.hexlet.io
      Учетная запись пользователя создана
    test-data: |
       Incorrect email = aa200287@yandex.ru
       Password = 1234567890
    steps:
      - Ввести несуществующий E-mail
      - Ввести Password
    expected-result: |
        Пользователь не авторизован. Ошибка авторизации отображается в виде строки «EMAIL_NOT_FOUND».

  - summary: |
      Проверка авторизации через GitHub
    requirement: |
      Пользователь должен иметь возможность регистрации на сайте через GitHub
    prerequisites: 
      Открыт сайт https://codebattle.hexlet.io
      Пользователь авторизован в сервисе GitHub в текущей сессии браузера
    test-data: |
       Нет данных
    steps:
      - Нажать "Sign in"
      - Нажать "Sign in with GitHub"
    expected-result: |
      Пользователь авторизован в приложении и попадает на страницу https://codebattle.hexlet.io/#lobby

  - summary: |
      Проверка создания игры с ботом
    requirement: |
      Пользователь должен иметь возможность создавать игру с ботом
    prerequisites: 
      Пользователь авторизован в приложении
      Открыта страница https://codebattle.hexlet.io/#lobby
    test-data: |
       Соперник - бот
    steps:
      - Нажать "Create a game"
      - Выбрать сложность игры в поле "Level"
      - Нажать "With a bot" в поле "Game Type"
      - Выбрать продолжительность игры в поле "Time control"
      - Выбрать задачу в поле "Choose task by name or tags"
      - Нажать "Create battle"
    expected-result: |
      Игра создана, Пользователь переходит на страницу игры с ботом

  - summary: |
      Проверка правильности решения во время игры с ботом
    requirement: |
      Пользователь должен иметь возможность проверить правильность решения задачи во время игры с ботом
    prerequisites: 
      Пользователь авторизован в приложении
      Открыта страница https://codebattle.hexlet.io/#lobby
    test-data: |
       Соперник - бот
       Задача - поиск площади прямоугольника
       Код - const _ = require("lodash");
             const R = require("rambda");

            const solution = (width, length) => {
            return width * length;
            };

            module.exports = solution;
    steps:
      - Нажать "Create a game"
      - Выбрать сложность игры "1 звезда" в поле "Level"
      - Нажать "With a bot" в поле "Game Type"
      - Выбрать продолжительность игры "8 min" в поле "Time control"
      - Выбрать задачу "rect_area" в поле "Choose task by name or tags"
      - Нажать "Create battle"
      - На открывшейся странице игры выбрать язык "NodeJS"
      - В поле под своим ником вставить код
      - Нажать "Check solution"
    expected-result: |
      Появляется модальное окно с сообщением о том, что пользователь победил

  - summary: |
      Проверка возможности завершить игру досрочно (сдаться)
    requirement: |
      Пользователь должен иметь возможность завершить игру досрочно (сдаться) во время игры с ботом
    prerequisites: 
      Пользователь авторизован в приложении
      Открыта страница https://codebattle.hexlet.io/#lobby
    test-data: |
       Соперник - бот
       Задача - поиск площади прямоугольника
    steps:
      - Нажать "Create a game"
      - Выбрать сложность игры "1 звезда" в поле "Level"
      - Нажать "With a bot" в поле "Game Type"
      - Выбрать продолжительность игры "8 min" в поле "Time control"
      - Выбрать задачу "rect_area" в поле "Choose task by name or tags"
      - Нажать "Create battle"
      - На открывшейся странице игры нажать "Сдаться" (красный флажок)
    expected-result: |
      Появляется модальное окно с подтверждением решения сдаться, после подтверждения появляется сообщение о том, что пользователь проиграл 

  - summary: |
      Проверка выбора минимального уровня сложности игры
    requirement: |
      Пользователь должен иметь возможность выбирать подходящий ему уровень игры
    prerequisites: 
      Пользователь авторизован в приложении
      Открыта страница https://codebattle.hexlet.io/#lobby 
    test-data: |
      Уровень сложности - самый легкий (одна звезда)
    steps:
      - Нажать "Create game" 
      - Нажать "Одна звезда" в поле "Level"
      - Нажать "With a bot" в поле "Game Type"
      - Выбрать продолжительность игры в поле "Time control"
      - Выбрать задачу в поле "Choose task by name or tags"
      - Нажать "Create battle" 
    expected-result: |
      Игра создана, Пользователь переходит на страницу игры с ботом на минимальном уровне сложности

  - summary: |
      Проверка создания игры между двумя пользователями
    requirement: |
      Пользователь должен иметь возможность создавать игру с другим пользователем
    prerequisites: 
      Пользователь авторизован в приложении
      Открыта страница https://codebattle.hexlet.io/#lobby
    test-data: |
      Соперник - любой пользователь онлайн
    steps:
      - Нажать "Create game"
      - Нажать "With other users" в поле "Game Type"
      - Выбрать продолжительность игры в поле "Time control"
      - Выбрать задачу в поле "Choose task by name or tags"
      - Нажать "Create battle"
    expected-result: |
      На странице https://codebattle.hexlet.io/#lobby во вкладке "Lobby" появится игра с выбранными параметрами от имени пользователя

  - summary: |
      Проверка присоединение к чужой игре в лобби
    requirement: |
      Пользователь должен иметь возможность присоединиться к созданной другим пользователем игре
    prerequisites: |
      Пользователь авторизован в приложении
      Открыта страница https://codebattle.hexlet.io/#lobby
    test-data: |
      Игра, созданная другим пользователем
    steps:
      - Выбрать в лобби любую игру, которая еще не началась
      - Нажать "Fight" в поле "Actions" напротив выбранной игры
    expected-result: |
      Пользователь должен увидеть экран-превью, после чего попасть на страницу с игрой
      
  - summary: |
      Проверка создания игры с другом
    requirement: |
      Пользователь должен иметь возможность создавать игру с другом
    prerequisites: |
      Пользователь авторизован в приложении
      Открыта страница https://codebattle.hexlet.io/#lobby
      Выполнена авторизация от лица другого пользователя (можно создать дополнительно) в другом браузере     
      Открыта страница https://codebattle.hexlet.io/#lobby в другом браузере   
    test-data: |
      Соперник - другой пользователь
    steps:
      - Нажать "Create game"
      - Нажать "With a friend" в поле "Game Type"     
      - Выбрать продолжительность игры в поле "Time control"
      - Выбрать пользователя, от лица которого выполнена авторизация в другом браузере, из выпадающего списка в поле "Choose opponent"     
      - Выбрать задачу в поле "Choose task by name or tags"
      - Нажать "Create Battle"
    expected-result: |
      На странице https://codebattle.hexlet.io/#lobby на иконке с двумя скрещенными мечами рядом с ником пользователя появится значок с цифрой "1" при наведении на который появится сообщение "You invited [имя пользователя]. Пользователь, от лица которого выполнена авторизация в другом браузере, получает уведомление о том, что его пригласили в игру 

  - summary: |
      Проверка максимальной продолжительности игры
    requirement: |
      Пользователь должен иметь возможность выбирать максимальную продолжительность игры
    prerequisites: 
      Пользователь авторизован в приложении
      Открыта страница https://codebattle.hexlet.io/#lobby
    test-data: |
      Максимальная продолжительность игры - 60 минут 
    steps:
      - Нажать "Create a game"
      - Нажать "With a bot" в поле "Game Type"
      - Ползунком выбрать "60 min" в поле "Time control"
      - Выбрать задачу в поле "Choose task by name or tags"
      - Нажать "Create battle"
    expected-result: |
      Игра создана, Пользователь переходит на страницу игры с ботом, в поле "Timeout in" отображается таймер с обратным отсчетом 60 минут

  - summary: |
      Проверка переключения текста задания игры на русский язык 
    requirement: |
      Пользователь должен иметь возможность выбирать язык игры
    prerequisites: 
      Открыта любая созданная игра с ботом
      Язык по умолчанию - английский
    test-data: |
      Язык - русский
    steps:
      - Нажать "EN" в поле "Task"
      - Нажать "RU"
    expected-result: |
      Текст описания задачи игры отображается на русском языке

  - summary: |
      Проверка просмотра законченной игры в записи
    requirement: |
      Пользователь должен иметь возможность просматривать историю сыгранных матчей
    prerequisites: 
      Пользователь авторизован в приложении
      Открыта страница https://codebattle.hexlet.io/#lobby
    test-data: |
       Пользователь уже завершил минимум одну игру
    steps:
      - Нажать "My Profile" в выпадающем списке под никнеймом
      - Нажать "Completed games"
      - Нажать "Show" в поле "Actions" напротив завершенной игры
    expected-result: |
      Откроется страница с возможность просмотра видео пройденной игры по нажатию кнопки "Play"

  - summary: |
      Проверка отправки сообщения сопернику
    requirement: |
      Пользователь должен иметь возможность писать в чат сопернику
    prerequisites: 
      Пользователь авторизован в приложении
      Открыта любая созданная игра с ботом
    test-data: |
       Текст - "Hello, friend!"
    steps:
      - В поле чата с соперником ввести текст "Hello, friend!"
      - Нажать "Send"
    expected-result: |
      Сообщение отправлено и отображается в чате с соперником

  - summary: |
      Проверка работы кнопки "Back to Home"
    requirement: |
      Пользователь должен иметь возможность выйти из игры, нажав кнопку "Back to Home"
    prerequisites: 
      Пользователь авторизован в приложении
      Открыта любая созданная игра с ботом
    test-data: |
       Нет данных
    steps:
      - Во время игры нажать на кнопку "Back to Home"
    expected-result: |
      Пользователь переходит на страницу https://codebattle.hexlet.io/#lobby, во вкладке "Lobby" есть кнопка "Continue" напротив некнейма пользователя для возврата к начатой игре

  - summary: |
      Проверка безопасности сайта
    requirement: |
      Сайт должен быть безопасным и защищать данные пользователя
    prerequisites: 
      Пользователь авторизован в приложении
      Открыта страница https://codebattle.hexlet.io/#lobby
      Запущен Chrome DevTools
    test-data: |
       Нет данных
    steps:
      - Открыть вкладку "Защита" в Chrome DevTools
    expected-result: |
      Отображается сообщение "Это безопасная страница (действительный HTTPS)" 

  - summary: |
      Проверка отображения сайта на мобильном устройстве
    requirement: |
      Сайт должен быть удобным на мобильном устройстве
    prerequisites: 
      Пользователь авторизован в приложении
      Открыта страница https://codebattle.hexlet.io/#lobby
      Запущен Chrome DevTools
    test-data: |
       Устройство - iPhone 12
    steps:
      - В Chrome DevTools в панели отображения устройства выбрать iPhone 12
      - Нажать "Create a game"
      - Нажать "With a bot" в поле "Game Type"
      - Выбрать продолжительность игры в поле "Time control"
      - Выбрать задачу в поле "Choose task by name or tags"
      - Нажать "Create battle" 
    expected-result: |
      Корректно отображается мобильная версия сайта, функционал сайта и созданная игра работают корректно

  - summary: |
      Проверка сайта на совместимость с браузером Google Chrome
    requirement: |
      Сайт должен быть протестирован на совместимость с последними версиями браузеров
    prerequisites:
      Пользователь авторизован в приложении
      Открыта страница https://codebattle.hexlet.io/#lobby в браузере Google Chrome
    test-data: |
       Google Chrome Версия 114.0.5735.133 (Официальная сборка), (x86_64)
    steps:
      - В браузере Google Chrome открыть страницу https://codebattle.hexlet.io/
      - Нажать "Create a game"
      - Выбрать любые настройки игры
      - Нажать "Create battle"
    expected-result: |
      Корректное отображение сайта и выполнение всех функций в браузере Google Chrome

  - summary: |
      Проверка сайта на совместимость с браузером Safari
    requirement: |
      Сайт должен быть протестирован на совместимость с последними версиями браузеров
    prerequisites:
      Пользователь авторизован в приложении
      Открыта страница https://codebattle.hexlet.io/#lobby в браузере Safari
    test-data: |
       Safari Версия 14.1.2 (16611.3.10.1.16)
    steps:
      - В браузере Safari открыть страницу https://codebattle.hexlet.io/
      - Нажать "Create a game"
      - Выбрать любые настройки игры
      - Нажать "Create battle"
    expected-result: |
      Корректное отображение сайта и выполнение всех функций в браузере Safari
